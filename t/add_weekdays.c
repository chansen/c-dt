#include "dt.h"
#include "tap.h"

const struct test {
    int y;
    int m;
    int d; 
    int delta;
    int ey;
    int em;
    int ed;
} tests[] = {
    {2012,  1,  2, -10, 2011, 12, 19},
    {2012,  1,  2,  -9, 2011, 12, 20},
    {2012,  1,  2,  -8, 2011, 12, 21},
    {2012,  1,  2,  -7, 2011, 12, 22},
    {2012,  1,  2,  -6, 2011, 12, 23},
    {2012,  1,  2,  -5, 2011, 12, 26},
    {2012,  1,  2,  -4, 2011, 12, 27},
    {2012,  1,  2,  -3, 2011, 12, 28},
    {2012,  1,  2,  -2, 2011, 12, 29},
    {2012,  1,  2,  -1, 2011, 12, 30},
    {2012,  1,  2,   0, 2012,  1,  2},
    {2012,  1,  2,   1, 2012,  1,  3},
    {2012,  1,  2,   2, 2012,  1,  4},
    {2012,  1,  2,   3, 2012,  1,  5},
    {2012,  1,  2,   4, 2012,  1,  6},
    {2012,  1,  2,   5, 2012,  1,  9},
    {2012,  1,  2,   6, 2012,  1, 10},
    {2012,  1,  2,   7, 2012,  1, 11},
    {2012,  1,  2,   8, 2012,  1, 12},
    {2012,  1,  2,   9, 2012,  1, 13},
    {2012,  1,  2,  10, 2012,  1, 16},
    {2012,  1,  3, -10, 2011, 12, 20},
    {2012,  1,  3,  -9, 2011, 12, 21},
    {2012,  1,  3,  -8, 2011, 12, 22},
    {2012,  1,  3,  -7, 2011, 12, 23},
    {2012,  1,  3,  -6, 2011, 12, 26},
    {2012,  1,  3,  -5, 2011, 12, 27},
    {2012,  1,  3,  -4, 2011, 12, 28},
    {2012,  1,  3,  -3, 2011, 12, 29},
    {2012,  1,  3,  -2, 2011, 12, 30},
    {2012,  1,  3,  -1, 2012,  1,  2},
    {2012,  1,  3,   0, 2012,  1,  3},
    {2012,  1,  3,   1, 2012,  1,  4},
    {2012,  1,  3,   2, 2012,  1,  5},
    {2012,  1,  3,   3, 2012,  1,  6},
    {2012,  1,  3,   4, 2012,  1,  9},
    {2012,  1,  3,   5, 2012,  1, 10},
    {2012,  1,  3,   6, 2012,  1, 11},
    {2012,  1,  3,   7, 2012,  1, 12},
    {2012,  1,  3,   8, 2012,  1, 13},
    {2012,  1,  3,   9, 2012,  1, 16},
    {2012,  1,  3,  10, 2012,  1, 17},
    {2012,  1,  4, -10, 2011, 12, 21},
    {2012,  1,  4,  -9, 2011, 12, 22},
    {2012,  1,  4,  -8, 2011, 12, 23},
    {2012,  1,  4,  -7, 2011, 12, 26},
    {2012,  1,  4,  -6, 2011, 12, 27},
    {2012,  1,  4,  -5, 2011, 12, 28},
    {2012,  1,  4,  -4, 2011, 12, 29},
    {2012,  1,  4,  -3, 2011, 12, 30},
    {2012,  1,  4,  -2, 2012,  1,  2},
    {2012,  1,  4,  -1, 2012,  1,  3},
    {2012,  1,  4,   0, 2012,  1,  4},
    {2012,  1,  4,   1, 2012,  1,  5},
    {2012,  1,  4,   2, 2012,  1,  6},
    {2012,  1,  4,   3, 2012,  1,  9},
    {2012,  1,  4,   4, 2012,  1, 10},
    {2012,  1,  4,   5, 2012,  1, 11},
    {2012,  1,  4,   6, 2012,  1, 12},
    {2012,  1,  4,   7, 2012,  1, 13},
    {2012,  1,  4,   8, 2012,  1, 16},
    {2012,  1,  4,   9, 2012,  1, 17},
    {2012,  1,  4,  10, 2012,  1, 18},
    {2012,  1,  5, -10, 2011, 12, 22},
    {2012,  1,  5,  -9, 2011, 12, 23},
    {2012,  1,  5,  -8, 2011, 12, 26},
    {2012,  1,  5,  -7, 2011, 12, 27},
    {2012,  1,  5,  -6, 2011, 12, 28},
    {2012,  1,  5,  -5, 2011, 12, 29},
    {2012,  1,  5,  -4, 2011, 12, 30},
    {2012,  1,  5,  -3, 2012,  1,  2},
    {2012,  1,  5,  -2, 2012,  1,  3},
    {2012,  1,  5,  -1, 2012,  1,  4},
    {2012,  1,  5,   0, 2012,  1,  5},
    {2012,  1,  5,   1, 2012,  1,  6},
    {2012,  1,  5,   2, 2012,  1,  9},
    {2012,  1,  5,   3, 2012,  1, 10},
    {2012,  1,  5,   4, 2012,  1, 11},
    {2012,  1,  5,   5, 2012,  1, 12},
    {2012,  1,  5,   6, 2012,  1, 13},
    {2012,  1,  5,   7, 2012,  1, 16},
    {2012,  1,  5,   8, 2012,  1, 17},
    {2012,  1,  5,   9, 2012,  1, 18},
    {2012,  1,  5,  10, 2012,  1, 19},
    {2012,  1,  6, -10, 2011, 12, 23},
    {2012,  1,  6,  -9, 2011, 12, 26},
    {2012,  1,  6,  -8, 2011, 12, 27},
    {2012,  1,  6,  -7, 2011, 12, 28},
    {2012,  1,  6,  -6, 2011, 12, 29},
    {2012,  1,  6,  -5, 2011, 12, 30},
    {2012,  1,  6,  -4, 2012,  1,  2},
    {2012,  1,  6,  -3, 2012,  1,  3},
    {2012,  1,  6,  -2, 2012,  1,  4},
    {2012,  1,  6,  -1, 2012,  1,  5},
    {2012,  1,  6,   0, 2012,  1,  6},
    {2012,  1,  6,   1, 2012,  1,  9},
    {2012,  1,  6,   2, 2012,  1, 10},
    {2012,  1,  6,   3, 2012,  1, 11},
    {2012,  1,  6,   4, 2012,  1, 12},
    {2012,  1,  6,   5, 2012,  1, 13},
    {2012,  1,  6,   6, 2012,  1, 16},
    {2012,  1,  6,   7, 2012,  1, 17},
    {2012,  1,  6,   8, 2012,  1, 18},
    {2012,  1,  6,   9, 2012,  1, 19},
    {2012,  1,  6,  10, 2012,  1, 20},
    {2012,  1,  7, -10, 2011, 12, 26},
    {2012,  1,  7,  -9, 2011, 12, 27},
    {2012,  1,  7,  -8, 2011, 12, 28},
    {2012,  1,  7,  -7, 2011, 12, 29},
    {2012,  1,  7,  -6, 2011, 12, 30},
    {2012,  1,  7,  -5, 2012,  1,  2},
    {2012,  1,  7,  -4, 2012,  1,  3},
    {2012,  1,  7,  -3, 2012,  1,  4},
    {2012,  1,  7,  -2, 2012,  1,  5},
    {2012,  1,  7,  -1, 2012,  1,  6},
    {2012,  1,  7,   0, 2012,  1,  7},
    {2012,  1,  7,   1, 2012,  1,  9},
    {2012,  1,  7,   2, 2012,  1, 10},
    {2012,  1,  7,   3, 2012,  1, 11},
    {2012,  1,  7,   4, 2012,  1, 12},
    {2012,  1,  7,   5, 2012,  1, 13},
    {2012,  1,  7,   6, 2012,  1, 16},
    {2012,  1,  7,   7, 2012,  1, 17},
    {2012,  1,  7,   8, 2012,  1, 18},
    {2012,  1,  7,   9, 2012,  1, 19},
    {2012,  1,  7,  10, 2012,  1, 20},
    {2012,  1,  8, -10, 2011, 12, 26},
    {2012,  1,  8,  -9, 2011, 12, 27},
    {2012,  1,  8,  -8, 2011, 12, 28},
    {2012,  1,  8,  -7, 2011, 12, 29},
    {2012,  1,  8,  -6, 2011, 12, 30},
    {2012,  1,  8,  -5, 2012,  1,  2},
    {2012,  1,  8,  -4, 2012,  1,  3},
    {2012,  1,  8,  -3, 2012,  1,  4},
    {2012,  1,  8,  -2, 2012,  1,  5},
    {2012,  1,  8,  -1, 2012,  1,  6},
    {2012,  1,  8,   0, 2012,  1,  8},
    {2012,  1,  8,   1, 2012,  1,  9},
    {2012,  1,  8,   2, 2012,  1, 10},
    {2012,  1,  8,   3, 2012,  1, 11},
    {2012,  1,  8,   4, 2012,  1, 12},
    {2012,  1,  8,   5, 2012,  1, 13},
    {2012,  1,  8,   6, 2012,  1, 16},
    {2012,  1,  8,   7, 2012,  1, 17},
    {2012,  1,  8,   8, 2012,  1, 18},
    {2012,  1,  8,   9, 2012,  1, 19},
    {2012,  1,  8,  10, 2012,  1, 20},
    {2012,  1,  9, -10, 2011, 12, 26},
    {2012,  1,  9,  -9, 2011, 12, 27},
    {2012,  1,  9,  -8, 2011, 12, 28},
    {2012,  1,  9,  -7, 2011, 12, 29},
    {2012,  1,  9,  -6, 2011, 12, 30},
    {2012,  1,  9,  -5, 2012,  1,  2},
    {2012,  1,  9,  -4, 2012,  1,  3},
    {2012,  1,  9,  -3, 2012,  1,  4},
    {2012,  1,  9,  -2, 2012,  1,  5},
    {2012,  1,  9,  -1, 2012,  1,  6},
    {2012,  1,  9,   0, 2012,  1,  9},
    {2012,  1,  9,   1, 2012,  1, 10},
    {2012,  1,  9,   2, 2012,  1, 11},
    {2012,  1,  9,   3, 2012,  1, 12},
    {2012,  1,  9,   4, 2012,  1, 13},
    {2012,  1,  9,   5, 2012,  1, 16},
    {2012,  1,  9,   6, 2012,  1, 17},
    {2012,  1,  9,   7, 2012,  1, 18},
    {2012,  1,  9,   8, 2012,  1, 19},
    {2012,  1,  9,   9, 2012,  1, 20},
    {2012,  1,  9,  10, 2012,  1, 23},
    {2012,  1, 10, -10, 2011, 12, 27},
    {2012,  1, 10,  -9, 2011, 12, 28},
    {2012,  1, 10,  -8, 2011, 12, 29},
    {2012,  1, 10,  -7, 2011, 12, 30},
    {2012,  1, 10,  -6, 2012,  1,  2},
    {2012,  1, 10,  -5, 2012,  1,  3},
    {2012,  1, 10,  -4, 2012,  1,  4},
    {2012,  1, 10,  -3, 2012,  1,  5},
    {2012,  1, 10,  -2, 2012,  1,  6},
    {2012,  1, 10,  -1, 2012,  1,  9},
    {2012,  1, 10,   0, 2012,  1, 10},
    {2012,  1, 10,   1, 2012,  1, 11},
    {2012,  1, 10,   2, 2012,  1, 12},
    {2012,  1, 10,   3, 2012,  1, 13},
    {2012,  1, 10,   4, 2012,  1, 16},
    {2012,  1, 10,   5, 2012,  1, 17},
    {2012,  1, 10,   6, 2012,  1, 18},
    {2012,  1, 10,   7, 2012,  1, 19},
    {2012,  1, 10,   8, 2012,  1, 20},
    {2012,  1, 10,   9, 2012,  1, 23},
    {2012,  1, 10,  10, 2012,  1, 24},
    {2012,  1, 11, -10, 2011, 12, 28},
    {2012,  1, 11,  -9, 2011, 12, 29},
    {2012,  1, 11,  -8, 2011, 12, 30},
    {2012,  1, 11,  -7, 2012,  1,  2},
    {2012,  1, 11,  -6, 2012,  1,  3},
    {2012,  1, 11,  -5, 2012,  1,  4},
    {2012,  1, 11,  -4, 2012,  1,  5},
    {2012,  1, 11,  -3, 2012,  1,  6},
    {2012,  1, 11,  -2, 2012,  1,  9},
    {2012,  1, 11,  -1, 2012,  1, 10},
    {2012,  1, 11,   0, 2012,  1, 11},
    {2012,  1, 11,   1, 2012,  1, 12},
    {2012,  1, 11,   2, 2012,  1, 13},
    {2012,  1, 11,   3, 2012,  1, 16},
    {2012,  1, 11,   4, 2012,  1, 17},
    {2012,  1, 11,   5, 2012,  1, 18},
    {2012,  1, 11,   6, 2012,  1, 19},
    {2012,  1, 11,   7, 2012,  1, 20},
    {2012,  1, 11,   8, 2012,  1, 23},
    {2012,  1, 11,   9, 2012,  1, 24},
    {2012,  1, 11,  10, 2012,  1, 25},
    {2012,  1, 12, -10, 2011, 12, 29},
    {2012,  1, 12,  -9, 2011, 12, 30},
    {2012,  1, 12,  -8, 2012,  1,  2},
    {2012,  1, 12,  -7, 2012,  1,  3},
    {2012,  1, 12,  -6, 2012,  1,  4},
    {2012,  1, 12,  -5, 2012,  1,  5},
    {2012,  1, 12,  -4, 2012,  1,  6},
    {2012,  1, 12,  -3, 2012,  1,  9},
    {2012,  1, 12,  -2, 2012,  1, 10},
    {2012,  1, 12,  -1, 2012,  1, 11},
    {2012,  1, 12,   0, 2012,  1, 12},
    {2012,  1, 12,   1, 2012,  1, 13},
    {2012,  1, 12,   2, 2012,  1, 16},
    {2012,  1, 12,   3, 2012,  1, 17},
    {2012,  1, 12,   4, 2012,  1, 18},
    {2012,  1, 12,   5, 2012,  1, 19},
    {2012,  1, 12,   6, 2012,  1, 20},
    {2012,  1, 12,   7, 2012,  1, 23},
    {2012,  1, 12,   8, 2012,  1, 24},
    {2012,  1, 12,   9, 2012,  1, 25},
    {2012,  1, 12,  10, 2012,  1, 26},
    {2012,  1, 13, -10, 2011, 12, 30},
    {2012,  1, 13,  -9, 2012,  1,  2},
    {2012,  1, 13,  -8, 2012,  1,  3},
    {2012,  1, 13,  -7, 2012,  1,  4},
    {2012,  1, 13,  -6, 2012,  1,  5},
    {2012,  1, 13,  -5, 2012,  1,  6},
    {2012,  1, 13,  -4, 2012,  1,  9},
    {2012,  1, 13,  -3, 2012,  1, 10},
    {2012,  1, 13,  -2, 2012,  1, 11},
    {2012,  1, 13,  -1, 2012,  1, 12},
    {2012,  1, 13,   0, 2012,  1, 13},
    {2012,  1, 13,   1, 2012,  1, 16},
    {2012,  1, 13,   2, 2012,  1, 17},
    {2012,  1, 13,   3, 2012,  1, 18},
    {2012,  1, 13,   4, 2012,  1, 19},
    {2012,  1, 13,   5, 2012,  1, 20},
    {2012,  1, 13,   6, 2012,  1, 23},
    {2012,  1, 13,   7, 2012,  1, 24},
    {2012,  1, 13,   8, 2012,  1, 25},
    {2012,  1, 13,   9, 2012,  1, 26},
    {2012,  1, 13,  10, 2012,  1, 27},
    {2012,  1, 14, -10, 2012,  1,  2},
    {2012,  1, 14,  -9, 2012,  1,  3},
    {2012,  1, 14,  -8, 2012,  1,  4},
    {2012,  1, 14,  -7, 2012,  1,  5},
    {2012,  1, 14,  -6, 2012,  1,  6},
    {2012,  1, 14,  -5, 2012,  1,  9},
    {2012,  1, 14,  -4, 2012,  1, 10},
    {2012,  1, 14,  -3, 2012,  1, 11},
    {2012,  1, 14,  -2, 2012,  1, 12},
    {2012,  1, 14,  -1, 2012,  1, 13},
    {2012,  1, 14,   0, 2012,  1, 14},
    {2012,  1, 14,   1, 2012,  1, 16},
    {2012,  1, 14,   2, 2012,  1, 17},
    {2012,  1, 14,   3, 2012,  1, 18},
    {2012,  1, 14,   4, 2012,  1, 19},
    {2012,  1, 14,   5, 2012,  1, 20},
    {2012,  1, 14,   6, 2012,  1, 23},
    {2012,  1, 14,   7, 2012,  1, 24},
    {2012,  1, 14,   8, 2012,  1, 25},
    {2012,  1, 14,   9, 2012,  1, 26},
    {2012,  1, 14,  10, 2012,  1, 27},
    {2012,  1, 15, -10, 2012,  1,  2},
    {2012,  1, 15,  -9, 2012,  1,  3},
    {2012,  1, 15,  -8, 2012,  1,  4},
    {2012,  1, 15,  -7, 2012,  1,  5},
    {2012,  1, 15,  -6, 2012,  1,  6},
    {2012,  1, 15,  -5, 2012,  1,  9},
    {2012,  1, 15,  -4, 2012,  1, 10},
    {2012,  1, 15,  -3, 2012,  1, 11},
    {2012,  1, 15,  -2, 2012,  1, 12},
    {2012,  1, 15,  -1, 2012,  1, 13},
    {2012,  1, 15,   0, 2012,  1, 15},
    {2012,  1, 15,   1, 2012,  1, 16},
    {2012,  1, 15,   2, 2012,  1, 17},
    {2012,  1, 15,   3, 2012,  1, 18},
    {2012,  1, 15,   4, 2012,  1, 19},
    {2012,  1, 15,   5, 2012,  1, 20},
    {2012,  1, 15,   6, 2012,  1, 23},
    {2012,  1, 15,   7, 2012,  1, 24},
    {2012,  1, 15,   8, 2012,  1, 25},
    {2012,  1, 15,   9, 2012,  1, 26},
    {2012,  1, 15,  10, 2012,  1, 27},
    {2012,  1, 16, -10, 2012,  1,  2},
    {2012,  1, 16,  -9, 2012,  1,  3},
    {2012,  1, 16,  -8, 2012,  1,  4},
    {2012,  1, 16,  -7, 2012,  1,  5},
    {2012,  1, 16,  -6, 2012,  1,  6},
    {2012,  1, 16,  -5, 2012,  1,  9},
    {2012,  1, 16,  -4, 2012,  1, 10},
    {2012,  1, 16,  -3, 2012,  1, 11},
    {2012,  1, 16,  -2, 2012,  1, 12},
    {2012,  1, 16,  -1, 2012,  1, 13},
    {2012,  1, 16,   0, 2012,  1, 16},
    {2012,  1, 16,   1, 2012,  1, 17},
    {2012,  1, 16,   2, 2012,  1, 18},
    {2012,  1, 16,   3, 2012,  1, 19},
    {2012,  1, 16,   4, 2012,  1, 20},
    {2012,  1, 16,   5, 2012,  1, 23},
    {2012,  1, 16,   6, 2012,  1, 24},
    {2012,  1, 16,   7, 2012,  1, 25},
    {2012,  1, 16,   8, 2012,  1, 26},
    {2012,  1, 16,   9, 2012,  1, 27},
    {2012,  1, 16,  10, 2012,  1, 30},
    {2012,  1, 17, -10, 2012,  1,  3},
    {2012,  1, 17,  -9, 2012,  1,  4},
    {2012,  1, 17,  -8, 2012,  1,  5},
    {2012,  1, 17,  -7, 2012,  1,  6},
    {2012,  1, 17,  -6, 2012,  1,  9},
    {2012,  1, 17,  -5, 2012,  1, 10},
    {2012,  1, 17,  -4, 2012,  1, 11},
    {2012,  1, 17,  -3, 2012,  1, 12},
    {2012,  1, 17,  -2, 2012,  1, 13},
    {2012,  1, 17,  -1, 2012,  1, 16},
    {2012,  1, 17,   0, 2012,  1, 17},
    {2012,  1, 17,   1, 2012,  1, 18},
    {2012,  1, 17,   2, 2012,  1, 19},
    {2012,  1, 17,   3, 2012,  1, 20},
    {2012,  1, 17,   4, 2012,  1, 23},
    {2012,  1, 17,   5, 2012,  1, 24},
    {2012,  1, 17,   6, 2012,  1, 25},
    {2012,  1, 17,   7, 2012,  1, 26},
    {2012,  1, 17,   8, 2012,  1, 27},
    {2012,  1, 17,   9, 2012,  1, 30},
    {2012,  1, 17,  10, 2012,  1, 31},
    {2012,  1, 18, -10, 2012,  1,  4},
    {2012,  1, 18,  -9, 2012,  1,  5},
    {2012,  1, 18,  -8, 2012,  1,  6},
    {2012,  1, 18,  -7, 2012,  1,  9},
    {2012,  1, 18,  -6, 2012,  1, 10},
    {2012,  1, 18,  -5, 2012,  1, 11},
    {2012,  1, 18,  -4, 2012,  1, 12},
    {2012,  1, 18,  -3, 2012,  1, 13},
    {2012,  1, 18,  -2, 2012,  1, 16},
    {2012,  1, 18,  -1, 2012,  1, 17},
    {2012,  1, 18,   0, 2012,  1, 18},
    {2012,  1, 18,   1, 2012,  1, 19},
    {2012,  1, 18,   2, 2012,  1, 20},
    {2012,  1, 18,   3, 2012,  1, 23},
    {2012,  1, 18,   4, 2012,  1, 24},
    {2012,  1, 18,   5, 2012,  1, 25},
    {2012,  1, 18,   6, 2012,  1, 26},
    {2012,  1, 18,   7, 2012,  1, 27},
    {2012,  1, 18,   8, 2012,  1, 30},
    {2012,  1, 18,   9, 2012,  1, 31},
    {2012,  1, 18,  10, 2012,  2,  1},
    {2012,  1, 19, -10, 2012,  1,  5},
    {2012,  1, 19,  -9, 2012,  1,  6},
    {2012,  1, 19,  -8, 2012,  1,  9},
    {2012,  1, 19,  -7, 2012,  1, 10},
    {2012,  1, 19,  -6, 2012,  1, 11},
    {2012,  1, 19,  -5, 2012,  1, 12},
    {2012,  1, 19,  -4, 2012,  1, 13},
    {2012,  1, 19,  -3, 2012,  1, 16},
    {2012,  1, 19,  -2, 2012,  1, 17},
    {2012,  1, 19,  -1, 2012,  1, 18},
    {2012,  1, 19,   0, 2012,  1, 19},
    {2012,  1, 19,   1, 2012,  1, 20},
    {2012,  1, 19,   2, 2012,  1, 23},
    {2012,  1, 19,   3, 2012,  1, 24},
    {2012,  1, 19,   4, 2012,  1, 25},
    {2012,  1, 19,   5, 2012,  1, 26},
    {2012,  1, 19,   6, 2012,  1, 27},
    {2012,  1, 19,   7, 2012,  1, 30},
    {2012,  1, 19,   8, 2012,  1, 31},
    {2012,  1, 19,   9, 2012,  2,  1},
    {2012,  1, 19,  10, 2012,  2,  2},
    {2012,  1, 20, -10, 2012,  1,  6},
    {2012,  1, 20,  -9, 2012,  1,  9},
    {2012,  1, 20,  -8, 2012,  1, 10},
    {2012,  1, 20,  -7, 2012,  1, 11},
    {2012,  1, 20,  -6, 2012,  1, 12},
    {2012,  1, 20,  -5, 2012,  1, 13},
    {2012,  1, 20,  -4, 2012,  1, 16},
    {2012,  1, 20,  -3, 2012,  1, 17},
    {2012,  1, 20,  -2, 2012,  1, 18},
    {2012,  1, 20,  -1, 2012,  1, 19},
    {2012,  1, 20,   0, 2012,  1, 20},
    {2012,  1, 20,   1, 2012,  1, 23},
    {2012,  1, 20,   2, 2012,  1, 24},
    {2012,  1, 20,   3, 2012,  1, 25},
    {2012,  1, 20,   4, 2012,  1, 26},
    {2012,  1, 20,   5, 2012,  1, 27},
    {2012,  1, 20,   6, 2012,  1, 30},
    {2012,  1, 20,   7, 2012,  1, 31},
    {2012,  1, 20,   8, 2012,  2,  1},
    {2012,  1, 20,   9, 2012,  2,  2},
    {2012,  1, 20,  10, 2012,  2,  3},
    {2012,  1, 21, -10, 2012,  1,  9},
    {2012,  1, 21,  -9, 2012,  1, 10},
    {2012,  1, 21,  -8, 2012,  1, 11},
    {2012,  1, 21,  -7, 2012,  1, 12},
    {2012,  1, 21,  -6, 2012,  1, 13},
    {2012,  1, 21,  -5, 2012,  1, 16},
    {2012,  1, 21,  -4, 2012,  1, 17},
    {2012,  1, 21,  -3, 2012,  1, 18},
    {2012,  1, 21,  -2, 2012,  1, 19},
    {2012,  1, 21,  -1, 2012,  1, 20},
    {2012,  1, 21,   0, 2012,  1, 21},
    {2012,  1, 21,   1, 2012,  1, 23},
    {2012,  1, 21,   2, 2012,  1, 24},
    {2012,  1, 21,   3, 2012,  1, 25},
    {2012,  1, 21,   4, 2012,  1, 26},
    {2012,  1, 21,   5, 2012,  1, 27},
    {2012,  1, 21,   6, 2012,  1, 30},
    {2012,  1, 21,   7, 2012,  1, 31},
    {2012,  1, 21,   8, 2012,  2,  1},
    {2012,  1, 21,   9, 2012,  2,  2},
    {2012,  1, 21,  10, 2012,  2,  3},
};

int
main() {
    int i, ntests;

    ntests = sizeof(tests) / sizeof(*tests);
    for (i = 0; i < ntests; i++) {
        const struct test t = tests[i];

        {
            dt_t src = dt_from_ymd(t.y, t.m, t.d);
            dt_t got = dt_add_weekdays(src, t.delta);
            dt_t exp = dt_from_ymd(t.ey, t.em, t.ed);
            cmp_ok(got, "==", exp, "dt_add_weekdays(%d (%.4d-%.2d-%.2d), %d)", 
              src, t.y, t.m, t.d, t.delta);
        }
    }
    done_testing();
}

